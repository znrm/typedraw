!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(){function t(){r(this,t);var e=window.location.pathname.split("/"),n=i(e,4),o=n[2],u=n[3];this.documentId=o,this.selection=u,this.pointer=new a.default;var s=document.querySelector("canvas");s.width=window.innerWidth,s.height=window.innerHeight,this.ctx=s.getContext("2d"),this.ctx.lineWidth=2,this.ctx.strokeStyle="black",this.ctx.lineCap="round",this.uiButton=document.querySelector(".ui-btn"),this.addListeners()}return u(t,[{key:"addListeners",value:function(){this.ctx.canvas.addEventListener("mousedown",this.mouseDown()),this.ctx.canvas.addEventListener("touchstart",this.mouseDown()),document.addEventListener("mousemove",this.mouseMove()),document.addEventListener("touchmove",this.mouseMove()),this.ctx.canvas.addEventListener("mouseup",this.mouseUp()),this.ctx.canvas.addEventListener("touchend",this.mouseUp()),this.uiButton.addEventListener("click",this.toggleEraser())}},{key:"mouseDown",value:function(){var t=this;return function(e){t.pointer.update(e),t.pointer.down(),t.ctx.beginPath()}}},{key:"mouseMove",value:function(){var t=this;return function(e){if(t.pointer.pressing){t.pointer.update(e);var n=t.pointer,r=n.previousPos,o=n.currentPos;t.ctx.lineTo(r.x,r.y),t.ctx.lineTo(o.x,o.y),t.ctx.stroke(),t.ctx.closePath(),t.ctx.beginPath()}}}},{key:"mouseUp",value:function(){var t=this;return function(e){t.pointer.update(e),t.pointer.up();var n=t.pointer.previousPos,r=n.x,o=n.y;t.ctx.lineTo(r,o),t.ctx.stroke(),t.ctx.closePath()}}},{key:"toggleEraser",value:function(){var t=this;return function(){t.pointer.eraser?(t.ctx.globalCompositeOperation="source-over",t.pointer.eraser=!1,t.ctx.strokeStyle="black",t.ctx.lineWidth=2,t.uiButton.id="eraser"):(t.ctx.globalCompositeOperation="destination-out",t.pointer.eraser=!0,t.ctx.strokeStyle="rgba(0,0,0,1)",t.ctx.lineWidth=40,t.uiButton.id="pencil")}}}]),t}();o(window,{drawing:new c})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.currentPos={x:e,y:n},this.previousPos={x:e,y:n},this.pressing=!1,this.eraser=!1}return o(t,[{key:"update",value:function(t){this.previousPos=this.currentPos,this.currentPos={x:t.touches?t.touches[0].clientX:t.clientX,y:t.touches?t.touches[0].clientY:t.clientY}}},{key:"down",value:function(){this.pressing=!0}},{key:"up",value:function(){this.pressing=!1}}]),t}();e.default=i}]);